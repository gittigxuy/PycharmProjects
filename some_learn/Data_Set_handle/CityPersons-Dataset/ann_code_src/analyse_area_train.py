# -*- coding: utf-8 -*-
# @Time    : 18-10-18 下午3:53
# @Author  : unicoe
# @Email   : unicoe@163.com
# @File    : analyse_area.py
# @Software: PyCharm Community Edition

import pdb
import matplotlib.pyplot as plt
import numpy as np

area_file = \
"/home/user/PycharmProjects/some_learn/CityPersons_handle/ann_code_src/analyse_citypersons_data/citypersons_11_6.txt"

rf = open(area_file, "r")

content = rf.readline()

areas = []
index = []
i = 0
while content:

    res = content.strip('\n')
    res = int(res)
    areas.append(res)
    index.append(i)
    i = i + 1
    content = rf.readline()
    # pdb.set_trace()

np_areas = np.asarray(areas)

np_areas.sort()
area_list = []
for i in range(20,380,20):
    skip = (i*i) / 2.44
    res = np.sum(np_areas > skip)
    area_list.append(res)
    print str(skip) + " " + str(res)


tmp = []
for i in range(0,len(area_list)-1):
    tmp_num = area_list[i] - area_list[i+1]
    tmp.append(tmp_num)
    print "[" + str(20+i*20) + "-" + str(20+(i+1)*20) + "]" + " " + str(tmp_num)

print "tmp"
for i in range(1,len(tmp)):
    tmp[i] = tmp[i-1]+tmp[i]
    print "[" + str(20) + "-" + str(20+(i+1)*20) + "]" + " " + str(tmp[i])


# pdb.set_trace()


plt.plot(index, areas,  'ro')
plt.axis([0,3000,0,10000])
plt.plot((0,3000),(163,163),'g-')
plt.plot((0,3000),(1024,1024),'g-')
plt.plot((0,3000),(2000,2000),'g-')
plt.savefig("/home/user/PycharmProjects/some_learn/CityPersons_handle/"+
            "ann_code_src/analyse_citypersons_data/train_cityperons_11_6.png")
plt.show()

"""
163.93442623 16494
256.147540984 16121
368.852459016 15579
502.049180328 14913
655.737704918 14161
829.918032787 13397
1024.59016393 12671
1239.75409836 11951
1475.40983607 11230
1731.55737705 10597
2008.19672131 9985
2305.32786885 9337
2622.95081967 8780
2961.06557377 8249
3319.67213115 7800
3698.7704918 7331
4098.36065574 6925
4518.44262295 6481
4959.01639344 6139
5420.08196721 5779
5901.63934426 5478
6403.68852459 5174
6926.2295082 4913
7469.26229508 4608
8032.78688525 4357
8616.80327869 4150
9221.31147541 3940
9846.31147541 3744
10491.8032787 3529
11157.7868852 3338
11844.2622951 3189
12551.2295082 2988
13278.6885246 2823
14026.6393443 2664
14795.0819672 2520
15584.0163934 2358
16393.442623 2245
17223.3606557 2122
18073.7704918 2022
18944.6721311 1926
19836.0655738 1843
20747.9508197 1765
21680.3278689 1684
22633.1967213 1593
23606.557377 1539
24600.4098361 1486
25614.7540984 1445
26649.5901639 1387
27704.9180328 1325
28780.7377049 1264
29877.0491803 1195
30993.852459 1129
32131.147541 1074
33288.9344262 1016
34467.2131148 971
35665.9836066 913

[20-25] 373
[25-30] 542
[30-35] 666
[35-40] 752
[40-45] 764
[45-50] 726
[50-55] 720
[55-60] 721
[60-65] 633
[65-70] 612
[70-75] 648
[75-80] 557
[80-85] 531
[85-90] 449
[90-95] 469
[95-100] 406
[100-105] 444
[105-110] 342
[110-115] 360
[115-120] 301
[120-125] 304
[125-130] 261
[130-135] 305
[135-140] 251
[140-145] 207
[145-150] 210
[150-155] 196
[155-160] 215
[160-165] 191
[165-170] 149
[170-175] 201
[175-180] 165
[180-185] 159
[185-190] 144
[190-195] 162
[195-200] 113
[200-205] 123
[205-210] 100
[210-215] 96
[215-220] 83
[220-225] 78
[225-230] 81
[230-235] 91
[235-240] 54
[240-245] 53
[245-250] 41
[250-255] 58
[255-260] 62
[260-265] 61
[265-270] 69
[270-275] 66
[275-280] 55
[280-285] 58
[285-290] 45
[290-295] 58

tmp
[20-30] 915
[20-35] 1581
[20-40] 2333
[20-45] 3097
[20-50] 3823
[20-55] 4543
[20-60] 5264
[20-65] 5897
[20-70] 6509
[20-75] 7157
[20-80] 7714
[20-85] 8245
[20-90] 8694
[20-95] 9163
[20-100] 9569
[20-105] 10013
[20-110] 10355
[20-115] 10715
[20-120] 11016
[20-125] 11320
[20-130] 11581
[20-135] 11886
[20-140] 12137
[20-145] 12344
[20-150] 12554
[20-155] 12750
[20-160] 12965
[20-165] 13156
[20-170] 13305
[20-175] 13506
[20-180] 13671
[20-185] 13830
[20-190] 13974
[20-195] 14136
[20-200] 14249
[20-205] 14372
[20-210] 14472
[20-215] 14568
[20-220] 14651
[20-225] 14729
[20-230] 14810
[20-235] 14901
[20-240] 14955
[20-245] 15008
[20-250] 15049
[20-255] 15107
[20-260] 15169
[20-265] 15230
[20-270] 15299
[20-275] 15365
[20-280] 15420
[20-285] 15478
[20-290] 15523
[20-295] 15581
"""